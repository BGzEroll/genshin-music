(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[510],{9802:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/error",function(){return r(1411)}])},6390:function(e,n,r){"use strict";r.d(n,{k:function(){return t}});var s=r(5893),o=r(369);function t(e){var n=e.excludeMenu,r=e.children,t=e.className,a=e.style;return(0,s.jsxs)("div",{className:"default-page "+(void 0===t?"":t),style:a,children:[!(void 0!==n&&n)&&(0,s.jsx)(o.O,{}),(0,s.jsx)("div",{className:"default-content",children:r})]})}},369:function(e,n,r){"use strict";r.d(n,{O:function(){return l}});var s=r(5893),o=r(9583),t=r(7671),a=r(9255),c=r(2809),i=r(1163);function l(e){var n=e.children,r=e.className,l=(0,i.useRouter)();return(0,s.jsx)("div",{className:"menu-wrapper "+(void 0===r?"":r),children:(0,s.jsxs)("div",{className:"menu menu-visible",style:{justifyContent:"flex-end"},children:[a.U.hasNavigated&&(0,s.jsx)(t.s,{style:{marginBottom:"auto"},onClick:function(){l.back()},ariaLabel:"Go back",children:(0,s.jsx)(o.x_l,{className:"icon"})}),void 0===n?void 0:n,(0,s.jsx)(t.s,{ariaLabel:"Go to discord",children:(0,s.jsx)("a",{href:"https://discord.gg/Arsf65YYHq",target:"_blank",rel:"noreferrer",children:(0,s.jsx)(o.j2d,{className:"icon"})})}),(0,s.jsx)(t.s,{onClick:c.I.open,ariaLabel:"Open home menu",children:(0,s.jsx)(o.xng,{className:"icon"})})]})})}},1411:function(e,n,r){"use strict";r.r(n),r.d(n,{ErrorPage:function(){return N}});var s=r(7568),o=r(828),t=r(655),a=r(5893),c=r(9583),i=r(750),l=r(2169),d=r(4339),u=r(125),g=r(8461),h=r(7008),m=r(2650),f=r(2132),x=r(4995),j=r(6390),v=r(1182),p=r(8778),w=r(2881),b=r(3707),_=r(3141);function N(){var e,n,r=(0,o.Z)((0,h.n)(),1)[0],c=(0,b.ih)(_.J.logs),N=(e=(0,s.Z)(function(e,n){return(0,t.__generator)(this,function(r){switch(r.label){case 0:return[4,(0,i.jH)("Are you sure you want to delete the song: "+e)];case 1:if(!r.sent())return[3,3];return[4,m.k.removeSong(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})}),function(n,r){return e.apply(this,arguments)}),y=(n=(0,s.Z)(function(){return(0,t.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,i.jH)("Are you sure you want to delete ALL SONGS?")];case 1:if(!e.sent())return[3,3];return[4,m.k._DANGEROUS_CLEAR_ALL_SONGS()];case 2:e.sent(),e.label=3;case 3:return[2]}})}),function(){return n.apply(this,arguments)});return(0,a.jsxs)(j.k,{className:"error-page",children:[(0,a.jsx)(x.D,{text:"Error"}),(0,a.jsxs)("div",{style:{textAlign:"center"},children:["If you unexpectedly see this page it means an error has occoured. Here you can download or delete your songs, if one caused an error, delete it. If you need help, join our",(0,a.jsx)("a",{href:"https://discord.gg/Arsf65YYHq",target:"_blank",rel:"noreferrer",style:{margin:"0 0.4rem",color:"var(--accent)"},children:"Discord"}),"and send the log file below."]}),(0,a.jsxs)("div",{className:"error-buttons-wrapper",children:[(0,a.jsx)(g.J,{onClick:function(){localStorage.removeItem(l.iC+"_Composer_Settings"),localStorage.removeItem(l.iC+"_Main_Settings"),d.kg.success("Settings have been reset")},children:"Reset settings"}),(0,a.jsx)(g.J,{onClick:y,children:"Delete all songs"})]}),(0,a.jsx)("div",{className:"error-songs-wrapper",children:(0,a.jsx)(u.G,{SongComponent:k,songs:r,componentProps:{deleteSong:N,download:function(e){try{var n=e.name,r=v.v.parseSong(e),s=["Sky"===l.iC&&(r instanceof p.l||r instanceof w.M)?r.toOldFormat():r.serialize()];f.bV.downloadSong(s,"".concat(n,".").concat(l.iC.toLowerCase(),"sheet")),d.kg.success("Song downloaded")}catch(e){console.error(e),d.kg.error("Error downloading song")}}}})}),(0,a.jsxs)("div",{className:"row space-between",style:{margin:"1rem 0"},children:[(0,a.jsx)("div",{style:{fontSize:"2rem"},children:"Error logs"}),(0,a.jsx)(g.J,{onClick:function(){var e=_.J.logs.map(function(e){return e.message});f.bV.downloadObject(e,"".concat(l.iC,"_logs"))},children:"Download logs"})]}),(0,a.jsx)("div",{className:"error-logs",children:c.map(function(e,n){return(0,a.jsx)("div",{className:"error-log-row row",children:e.message},n)})})]})}function k(e){var n=e.data,r=e.deleteSong,o=e.download;return(0,a.jsxs)("div",{className:"song-row",children:[(0,a.jsx)("div",{className:"song-name",children:n.name}),(0,a.jsxs)("div",{className:"song-buttons-wrapper",children:[(0,a.jsx)("button",{className:"song-button",onClick:(0,s.Z)(function(){var e;return(0,t.__generator)(this,function(r){switch(r.label){case 0:return[4,v.v.getOneSerializedFromStorable(n)];case 1:if(!(e=r.sent()))return[2,d.kg.error("Could not find song")];return o(e),[2]}})}),"aria-label":"Download song ".concat(n.name),children:(0,a.jsx)(c.aBF,{})}),(0,a.jsx)("button",{className:"song-button",onClick:function(){return r(n.name,n.id)},"aria-label":"Delete song ".concat(n.name),children:(0,a.jsx)(c.Xm5,{color:"#ed4557"})})]})]})}n.default=N}},function(e){e.O(0,[962,774,888,179],function(){return e(e.s=9802)}),_N_E=e.O()}]);