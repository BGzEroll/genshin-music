"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{3544:function(e,t,n){n.d(t,{Z:function(){return s}});var a=n(828),r=n(5893),i=n(5055);function s(e){var t=e.checked,n=e.onChange,s=e.styleOuter,o=(0,a.Z)((0,i.F)(),1)[0];return(0,r.jsx)("button",{className:"switch-wrapper",onClick:function(){return n(!t)},style:s||{},"aria-label":t?"Switch to off":"Switch to on",children:(0,r.jsx)("div",{className:"switch-inner ".concat(t?"switch-inner-on":""),style:{backgroundColor:(t?o.get("accent"):o.layer("primary",.4)).toString()}})})}},6880:function(e,t,n){n.d(t,{Z:function(){return l}});var a=n(828),r=n(5893),i=n(6042),s=n(3564),o=n(7294),u=n(8949);function l(e){var t,n,l,c=e.children,h=e.page,d=(0,a.Z)((n=(t=(0,a.Z)((0,o.useState)(s.f6),2))[0],l=t[1],(0,o.useEffect)(function(){return(0,u.N7)(s.f6.state.other,function(){l((0,i.Z)({},s.f6))})},[]),[n,l]),1)[0];return(0,r.jsx)("div",{className:"app bg-image",style:{backgroundImage:"url(".concat(d.getOther("backgroundImage"+h),")")},children:c})}},781:function(e,t,n){n.d(t,{Z:function(){return r}});var a=n(5893);function r(e){var t=e.title,n=e.current,r=e.children,i=e.id;return(0,a.jsxs)("div",{className:n===i?"menu-panel menu-panel-visible":"menu-panel",children:[t&&(0,a.jsx)("div",{className:"menu-title",children:t}),(0,a.jsx)("div",{className:"panel-content-wrapper",children:r})]})}},1866:function(e,t,n){n.d(t,{A:function(){return g}});var a=n(828),r=n(5893),i=n(7294),s=n(6042),o=n(9396),u=n(3544);function l(e){var t=e.data,n=e.volume,a=e.onVolumeChange,i=e.onVolumeComplete,u=e.onInstrumentPick,l=e.objectKey,c=e.instrument,h=e.theme,d=[],m=[],v=!0,p=!1,f=void 0;try{for(var g,y=t.options[Symbol.iterator]();!(v=(g=y.next()).done);v=!0){var x=g.value;x.startsWith("SFX")?m.push(x):d.push(x)}}catch(e){p=!0,f=e}finally{try{v||null==y.return||y.return()}finally{if(p)throw f}}return(0,r.jsxs)("div",{className:"instrument-picker",children:[(0,r.jsx)("select",{value:c,style:{textAlign:"left",paddingLeft:"0.4rem",backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24' fill='".concat(h.getText("primary").hex().replace("#","%23"),"'><path d='M0 0h24v24H0z' fill='none'/><path d='M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z'/></svg>\")")},className:"select",onChange:function(e){u({key:l,data:(0,o.Z)((0,s.Z)({},t),{value:e.target.value})})},children:0===m.length?(0,r.jsx)(r.Fragment,{children:d.map(function(e){return(0,r.jsx)("option",{value:e,children:e.replace("-"," ")},e)})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("optgroup",{label:"Instruments",children:d.map(function(e){return(0,r.jsx)("option",{value:e,children:e.replace("-"," ")},e)})}),(0,r.jsx)("optgroup",{label:"SFX",children:m.map(function(e){return(0,r.jsx)("option",{value:e,children:e.replace("-"," ").replace("SFX_","")},e)})})]})}),(0,r.jsx)("input",{type:"range",min:1,max:100,value:n,onChange:function(e){a(Number(e.target.value))},onPointerUp:function(){i({key:l,value:n})}})]})}var c=n(9583);function h(e){var t=e.data,n=e.value,a=e.onChange,i=e.onComplete,u=e.objectKey,l=function(e){if("number"===t.type){var a=Number(n)+(t.increment||0)*e;!t.threshold||a<t.threshold[0]||a>t.threshold[1]||i({key:u,data:(0,o.Z)((0,s.Z)({},t),{value:a})})}};return(0,r.jsxs)("div",{className:"settings-input",children:["number"===t.type&&(0,r.jsx)("button",{onClick:function(){return l(-1)},className:"settings-input-button",style:{marginRight:"0.15rem"},"aria-label":"Decrement",children:(0,r.jsx)(c.iFH,{})}),(0,r.jsx)("input",{type:t.type,value:n,placeholder:t.placeholder||"",onBlur:function(){t.value!==n&&i({key:u,data:(0,o.Z)((0,s.Z)({},t),{value:n})})},onChange:function(e){var n=e.target;if("number"===t.type){var r=Number(n.value);if(n.value="",!t.threshold||r<t.threshold[0]||r>t.threshold[1])return;a(r)}else a(n.value)},"aria-label":t.name}),"number"===t.type&&(0,r.jsx)("button",{onClick:function(){return l(1)},className:"settings-input-button",style:{marginLeft:"0.15rem"},"aria-label":"Increment",children:(0,r.jsx)(c.wEH,{})})]})}function d(e){var t=e.data,n=e.value,a=e.onChange,i=e.objectKey;return(0,r.jsx)("input",{type:"range",min:t.threshold[0],max:t.threshold[1],value:n,onChange:function(e){a({key:i,data:(0,o.Z)((0,s.Z)({},t),{value:Number(e.target.value)})})}})}function m(e){var t=e.value,n=e.onChange,a=e.data,i=e.objectKey,u=e.children,l=e.theme,c=e.type;return(0,r.jsx)("select",{value:t,onChange:function(e){n({key:i,data:(0,o.Z)((0,s.Z)({},a),{value:"number"==typeof c?parseInt(e.target.value):e.target.value})})},style:{backgroundImage:"url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' height='24' viewBox='0 0 24 24' width='24' fill='".concat(l.getText("primary").hex().replace("#","%23"),"'><path d='M0 0h24v24H0z' fill='none'/><path d='M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z'/></svg>\")")},children:u})}var v=n(5055),p=n(1014),f=(0,i.memo)(function(e){var t=e.data,n=e.update,c=e.objKey,f=e.changeVolume,g=(0,a.Z)((0,i.useState)(t.value),2),y=g[0],x=g[1],b=(0,a.Z)((0,i.useState)("instrument"===t.type?t.volume:0),2),j=b[0],k=b[1],Z=(0,a.Z)((0,v.F)(),1)[0],w=t.type;return(0,i.useEffect)(function(){x(t.value)},[t.value]),(0,r.jsxs)("div",{className:"settings-row",style:{backgroundColor:Z.layer("menu_background",.15).toString()},children:[(0,r.jsxs)("div",{className:(0,p.h)(t.tooltip),style:{flex:"1"},children:[t.name,t.tooltip&&(0,r.jsx)(p.u,{style:{width:"12rem"},children:t.tooltip})]}),"select"===w&&(0,r.jsx)(m,{theme:Z,type:t.options[0],onChange:n,value:t.value,objectKey:c,data:t,children:t.options.map(function(e){return(0,r.jsx)("option",{value:e,children:e},e)})}),("number"===w||"text"===w)&&(0,r.jsx)(h,{data:t,value:y,onChange:x,onComplete:n,objectKey:c}),"checkbox"===w&&(0,r.jsx)(u.Z,{checked:y,onChange:function(e){"checkbox"===w&&n({key:c,data:(0,o.Z)((0,s.Z)({},t),{value:e})})}}),"slider"===w&&(0,r.jsx)(d,{objectKey:c,data:t,value:y,onChange:n}),"instrument"===w&&f&&(0,r.jsx)(l,{theme:Z,volume:j,onInstrumentPick:n,onVolumeChange:k,onVolumeComplete:f,instrument:t.value,data:t,objectKey:c})]})},function(e,t){return e.data.value===t.data.value&&e.data.volume===t.data.volume&&e.update===t.update});function g(e){var t=e.settings,n=e.changeVolume,s=e.onUpdate,o=new Map;return Object.entries(t).forEach(function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];o.has(r.category)||o.set(r.category,{category:r.category,settings:{}}),o.get(r.category).settings[n]=r}),(0,r.jsx)(r.Fragment,{children:Array.from(o.values()).map(function(e){return(0,r.jsx)(i.Fragment,{children:(0,r.jsxs)("div",{className:"column",children:[(0,r.jsx)("h1",{className:"settings-group-title",children:e.category}),Object.entries(e.settings).map(function(e){var t=(0,a.Z)(e,2),i=t[0],o=t[1];return(0,r.jsx)(f,{objKey:i,data:o,changeVolume:n,update:s},i)})]})},e.category)})})}},9218:function(e,t,n){var a=n(5893),r=n(7294);t.Z=(0,r.memo)(function(e){var t=e.children;return(0,a.jsx)(a.Fragment,{children:t})},function(e,t){var n,a,r,i;return(null===(n=t.children)||void 0===n?void 0:n.key)!==null||(null===(a=e.children)||void 0===a?void 0:a.key)!==null?(null===(r=e.children)||void 0===r?void 0:r.key)===(null===(i=t.children)||void 0===i?void 0:i.key):void 0!==e.children})},1185:function(e,t,n){n.d(t,{z:function(){return u}});var a=n(7568),r=n(1438),i=n(655),s=n(5839),o=n(7557),u=function(){function e(t){(0,r.Z)(this,e),this.instruments=[],this.audioInstruments=[],this.basePitch="C",this.basePitch=t}var t=e.prototype;return t.setBasePitch=function(e){this.basePitch=e},t.destroy=function(){this.audioInstruments.forEach(function(e){o.n.disconnect(e.endNode),e.dispose()})},t.syncInstruments=function(e){return this.instruments=e,this.loadInstruments()},t.loadInstruments=function(){var e=this;return(0,a.Z)(function(){var t,n;return(0,i.__generator)(this,function(r){var u;return t=e.instruments,(n=e.audioInstruments).splice(t.length).forEach(function(e){o.n.disconnect(e.endNode),e.dispose()}),[2,Promise.all(t.map((u=(0,a.Z)(function(e,t){var a,r,u;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(void 0!==n[t])return[3,2];return a=new s.ZP(e.name),n[t]=a,[4,a.load(o.n.getAudioContext())];case 1:return i.sent(),o.n.connect(a.endNode),a.changeVolume(e.volume),[2,a];case 2:if(n[t].name!==e.name)return[3,3];return n[t].changeVolume(e.volume),[2,n[t]];case 3:return r=n[t],o.n.disconnect(r.endNode),r.dispose(),u=new s.ZP(e.name),n[t]=u,[4,u.load(o.n.getAudioContext())];case 4:return i.sent(),o.n.connect(u.endNode),u.changeVolume(e.volume),[2,u];case 5:return[2]}})}),function(e,t){return u.apply(this,arguments)})))]})})()},t.playNoteOfInstrument=function(e,t,n){var a=this.instruments[e];this.audioInstruments[e].play(t,null!=n?n:a.pitch||this.basePitch)},t.playNotesOfInstrument=function(e,t,n){var a=this;t.forEach(function(t){return a.playNoteOfInstrument(e,t,n)})},e}()},8010:function(e,t,n){n.d(t,{v:function(){return i}});var a=n(1438),r=n(2951),i=function(){function e(t,n){var r=this;(0,a.Z)(this,e),this.nextTick=0,this.maxFpsInterval=0,this.deltaTime=0,this.raf=0,this.duration=0,this.previousTickTime=0,this.tick=function(){var e=Date.now();r.deltaTime=e-r.nextTick,r.deltaTime>=r.maxFpsInterval&&(r.nextTick=e-r.deltaTime%r.maxFpsInterval,r.callback(r.elapsed,e-r.previousTickTime),r.previousTickTime=e),r.elapsed=e-r.startTime,r.elapsed<r.duration&&(r.raf=setTimeout(r.tick,8))},this.callback=t,this.startTime=0,this.elapsed=0,this.maxFps=n,this.maxFpsInterval=1e3/n}var t=e.prototype;return t.changeMaxFps=function(e){this.maxFps=e,this.maxFpsInterval=1e3/e},t.setCallback=function(e){this.callback=e},t.start=function(e){this.stop(),this.startTime=Date.now(),this.nextTick=Date.now(),this.previousTickTime=0,this.duration=null!=e?e:Number.MAX_SAFE_INTEGER,this.tick()},t.stop=function(){clearTimeout(this.raf)},(0,r.Z)(e,[{key:"fps",get:function(){return this.maxFps}}]),e}()}}]);